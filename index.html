<!doctype html>
<html lang="zh">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Variable Dao — 单文件（含页脚多语言）</title>
<style>
  :root{--maxw:900px;--pad:16px;--accent:#2b6df6;--stickyTop:60px}
  *{box-sizing:border-box}
  body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","PingFang SC","Hiragino Sans GB","Microsoft YaHei",sans-serif;margin:0;color:#111;background:#fff;line-height:1.65}
  header{position:sticky;top:0;background:rgba(255,255,255,.92);padding:8px 12px;border-bottom:1px solid rgba(0,0,0,.06);z-index:20;display:flex;align-items:center;gap:10px;overflow:auto}
  .nav-left{display:flex;gap:8px;align-items:center}
  .chip{padding:7px 11px;border-radius:999px;border:1px solid rgba(0,0,0,.08);background:transparent;cursor:pointer;white-space:nowrap}
  select.chip{font-size:13px; padding:6px 10px; min-width:86px; max-width:120px}
  .grow{flex:1}
  main{max-width:var(--maxw);margin:0 auto;padding:0 var(--pad)}
  .hero{max-width:720px;margin:12vh auto 10vh;text-align:center}
  .h1{font-weight:900;font-size:clamp(28px,5.2vw,44px);margin:6px 0 10px}
  .lead{color:rgba(0,0,0,.75);font-size:16px;margin:8px 0 18px}
  .btn{display:inline-block;padding:12px 18px;border-radius:12px;border:1px solid rgba(0,0,0,.08);cursor:pointer;font-weight:700}
  .page{display:none}
  #select{max-width:760px;margin:8vh auto 14vh}
  .sel-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}
  .sel-title{font-size:18px;font-weight:900}
  .cards{display:grid;gap:14px}
  .card{border:1px solid rgba(0,0,0,.08);border-radius:14px;padding:12px;background:#fff}
  .card h3{margin:6px 0;font-size:18px}
  .muted{opacity:.7;font-size:14px}
  #detail{display:none;margin-top:12px}
  #detail.active{display:block}
  #detail .content{padding:16px;border-radius:12px;border:1px solid rgba(0,0,0,.08);background:#fff}
  .back{position:sticky; top:60px; z-index:15; margin:0 0 12px;display:inline-flex;align-items:center;gap:6px;padding:8px 12px;border:1px solid rgba(0,0,0,.08);border-radius:999px;background:#fff;cursor:pointer}
  .pill{display:inline-block;padding:8px 12px;border-radius:999px;background:#f3f6ff;font-weight:800;margin:10px 0}
  .long{font-size:18px;line-height:1.9;color:#111}
  footer{max-width:var(--maxw);margin:0 auto 26px;padding:0 var(--pad);color:rgba(0,0,0,.6);font-size:13px;text-align:center}
  @media (prefers-color-scheme:dark){
    body{background:#050507;color:#e9e9ee}
    header{background:rgba(5,5,7,.6);border-bottom:1px solid rgba(255,255,255,.06)}
    .card,#detail .content,.back{background:#0e0e11;border-color:#26262b}
    .pill{background:#132032;color:#e8f2ff}
  }
</style>
</head>
<body>
<header>
  <div class="nav-left">
    <button class="chip" id="navHome"></button>
    <button class="chip" id="navStories"></button>
    <button class="chip" id="navAbout"></button>
  </div>
  <div class="grow"></div>
  <select id="layoutSelect" class="chip" title="layout">
    <option value="mobile">📱 Mobile</option>
    <option value="desktop">🖥 Desktop</option>
  </select>
  <select id="langSelect" class="chip" title="language">
    <option value="" data-placeholder>Language</option>
    <option value="zh">中文</option>
    <option value="en">EN</option>
    <option value="ja">日本語</option>
    <option value="ko">한국어</option>
  </select>
</header>

<main>
  <section id="landing" class="page" style="display:block">
    <div class="hero">
      <div class="h1" id="heroTitle"></div>
      <div class="lead" id="heroLead"></div>
      <button id="startBtn" class="btn">🖊️ <span id="startLabel"></span></button>
    </div>
  </section>

  <section id="select" class="page">
    <div class="sel-head">
      <div class="sel-title" id="selectTitle"></div>
      <button class="chip" id="selBack"></button>
    </div>
    <div class="cards" id="cardsList"></div>
    <div id="detail" aria-hidden="true">
      <button class="back" id="backToSelect"></button>
      <div class="content" id="detailContent"></div>
    </div>
  </section>

  <section id="stories" class="page">
    <div class="card"><strong id="storiesTitle"></strong><p class="muted" id="storiesHint"></p></div>
  </section>

  <section id="about" class="page">
    <div class="card"><strong id="aboutTitle"></strong>
      <p class="muted" id="aboutHint"></p>
    </div>
  </section>
</main>

<footer><span id="footerText"></span></footer>

<script>
const UI = {
  navHome:   { zh:'首页',   en:'Home',   ja:'ホーム',    ko:'홈' },
  navStories:{ zh:'故事',   en:'Stories',ja:'ストーリー',ko:'스토리' },
  navAbout:  { zh:'关于我们', en:'About',  ja:'紹介',      ko:'소개' },
  heroTitle: { zh:'变量道 · 心理自救', en:'Variable Dao · Self-Rescue', ja:'変数道・心理セルフレスキュー', ko:'변수도 · 심리 자기구원' },
  heroLead:  { zh:'他们给你故事， 你只被分配到角色。 我们给你笔。', 
               en:'They hand you stories, assigning you a role. We hand you the pen.',
               ja:'彼らはあなたに物語を与え、役だけを割り当てる。私たちはペンを渡す。',
               ko:'사람들은 당신에게 이야기를 주고, 역할만 배정한다. 우리는 펜을 건넨다.' },
  start:     { zh:'我来执笔', en:'I will write', ja:'私が書く', ko:'내가 집필한다' },
  selectTitle:{ zh:'“看到哪条让你想爆粗口，就点它。”', en:'“Tap the line that makes you want to swear.”', ja:'「一番ムカつく一文をタップ。」', ko:'“욕이 튀어나오게 하는 줄을 탭하세요.”' },
  backHome:   { zh:'← 返回首页', en:'← Back to Home', ja:'← ホームへ戻る', ko:'← 홈으로' },
  backSelect: { zh:'← 返回选卡', en:'← Back to list', ja:'← 選択へ戻る', ko:'← 목록으로' },
  storiesTitle:{ zh:'故事', en:'Stories', ja:'ストーリー', ko:'스토리' },
  storiesHint:{ zh:'内容正在搭建中，敬请期待。', en:'Content under construction.', ja:'構築中です。', ko:'준비 중입니다.' },
  aboutTitle:{ zh:'关于我们（预览）', en:'About (Preview)', ja:'紹介（プレビュー）', ko:'소개(미리보기)' },
  aboutHint:{ zh:'声明、我们的立场与发起人介绍将在最终版完整展示。', en:'Statement, stance and founders will appear in the full release.', ja:'声明・立場・発起人紹介は正式版で公開します。', ko:'성명, 입장, 발기인 소개는 정식판에 공개됩니다.' },
  pillBone:   { zh:'道骨', en:'Bone', ja:'骨', ko:'뼈' },
  pillEvi:    { zh:'道证', en:'Evidence', ja:'証', ko:'증거' },
  pillInsight:{ zh:'觉悟', en:'Insight', ja:'悟り', ko:'깨달음' },
  footer:     { zh:'© 2025 变量道 · 让世界成为可书写的素材。',
                en:'© 2025 Variable Dao · Let the world become material for writing.',
                ja:'© 2025 変数道 ・ 世界を「書ける素材」に。',
                ko:'© 2025 변수도 · 세상을 글로 쓸 수 있는 재료로.' }
};

const DATA = {
  cards: [{
    id: "air",
    title: { zh: "当空气", en: "Invisible", ja: "空気になる", ko: "공기 취급" },
    sting: { zh: "我在，你们当没看见。", en: "I'm here, and you act like you can't see me.", ja: "私はここにいるのに、誰も見ない。", ko: "나는 여기 있는데, 다들 못 본 척한다." },
    ask:   { zh: "谁把我当透明人？", en: "Who treats me like I'm transparent?", ja: "誰が私を透明人間にしている？", ko: "누가 나를 투명인간으로 취급하나?" },
    body: {
      zh: `短篇｜《两个人影》

同一间教室里，有两个人影：A 和 B。
老师点名老漏、分组没人喊、举手没人看——他们都像空气。
黑板擦过一遍又一遍，他们的名字一次也没留下。

A 的故事这样写：
“乖一点，不添麻烦；用成绩说话；总有一天会被看到。”
于是他更安静，坐得更直。
一个月后，他开始怀疑：是不是我真的不重要。
他没错——安静、礼貌、克制都对；
但他的生命像被按了静音键，灯永远不会主动打到他身上。

B 的故事是另一个版本：
“既然没人看见，那我先让世界听到一声响。”
做广播体操时，他故意慢半拍或夸张地做错动作，引得旁边的同学笑场
他会去广播站把班级球赛剪了段“假正经解说”在下课时用教学设备放映，
年级主任皱眉：“别闹。”
但全班开始叫他“解说员”。
他也没错——调皮、出戏、被批评都对；
可他从“空气”变成了可被叫到的人。

变量道 · 道骨
🦴确认感（I exist for someone）
🦴人不只是要“我存在”，而是“我的存在被看见”。
🦴被爱、被骂都行，人最怕是彻底的无视。

变量道 · 道证
• A 被困在“等别人给我一个角色”的故事里。
• B 把“我是谁”提前，先丢下一个响亮的记号（外号、段子、被点名的理由）。
• 两种逻辑都对：A 的守规则对，B 的要回叙事权也对。
既然都对，就活在那个更有生命力、更快乐的“对”里。

变量道 · 觉悟
被看见，是人类的底层燃料。
不是求爱，不是求骂，是在别人的世界里钉下一枚“这是我”的小图钉。
从“空气”到“被叫到名字”，新的故事就开始了。`,
      en: `Short · "Two Silhouettes"

In the same classroom sat two silhouettes: A and B.
Roll calls kept skipping them. No one called them into groups. Raised hands went unseen—they were like air.
The blackboard was wiped again and again, and their names never stayed.

A’s story goes like this:
“Be good. Don’t cause trouble. Let grades speak. One day I’ll be seen.”
So he sat even straighter, even quieter.
A month later, he began to suspect: maybe I really don’t matter.
He wasn’t wrong—quiet, polite, restrained are all “right,”
but life felt like the mute button was pressed; the light would never turn to him on its own.

B’s story is another version:
“If no one sees me, I’ll at least make a sound.”
During morning exercise he deliberately went half a beat off, exaggerated a move, made classmates laugh.
He cut a mock-serious commentary of the class game and played it through the school system after class.
The dean frowned: “Cut it out.”
But the class started calling him “the commentator.”
He wasn’t wrong either—mischievous, off-script, even scolded—yet he transformed from “air” to someone who gets called by name.

Variable Dao · Bone
🦴 Sense of confirmation (I exist for someone)
🦴 Humans need not only “I exist,” but “my existence is seen.”
🦴 Praise or scold—both beat being ignored.

Variable Dao · Evidence
• A is trapped in the story “wait for someone to give me a role.”
• B moves “who I am” up front and drops a loud marker (nickname, gag, a reason to be called).
• Both logics are right. So live in the version that’s more alive and joyful.

Variable Dao · Insight
To be seen is human fuel at the base layer.
You’re not begging love or insult; you’re pinning “this is me” in someone else’s world.
From “air” to “being called by name,” a new story begins.`,
      ja: `短編｜「二つの影」

同じ教室に、A と B という二つの影がいた。
点呼では飛ばされ、グループ分けでも誰にも呼ばれず、手を挙げても見られない——まるで空気。
黒板は何度も拭かれるのに、彼らの名前が残ることは一度もなかった。

A の物語：
「大人しく、迷惑をかけない。成績で語る。いつかきっと見られる。」
彼はさらに静かに、さらに背筋を伸ばす。
一か月後、彼は疑い始める——本当に自分は重要ではないのか？
間違ってはいない。静か、礼儀正しい、克己——すべて正しい。
だが彼の人生はミュートされたようで、スポットライトは決して自ら彼を照らさない。

B の物語は別の版：
「誰も見ないなら、とにかく世界に音を立てよう。」
体操で半拍ずらしや誇張した動きをわざと入れ、周りを笑わせる。
クラスの試合を“もっともらしい実況”に編集し、休み時間に校内放送で流す。
学年主任は眉をひそめる。「ふざけるな。」
だがクラスは彼を「実況くん」と呼び始めた。
それも間違いではない——やんちゃ、出過ぎ、叱られる——すべて“正しい”。
彼は「空気」から「名指しされる人」へと変わったのだ。

変数道・骨
🦴 確認感（誰かのために私は存在する）
🦴 「私は存在する」だけでなく、「私の存在が見られる」こと。
🦴 愛されるでも叱られるでもよい。最も恐ろしいのは完全な無視。

変数道・証
• A は「誰かが役をくれるのを待つ」物語に囚われている。
• B は「自分は誰か」を前に出し、あだ名やネタなどの強いマーカーを置いた。
• どちらの論理も正しい。ならば、より生き生きして楽しく生きられる“正しい”を選べばいい。

変数道・悟り
見られることは、人間の底層の燃料だ。
愛や罵倒を求めるのではない。他者の世界に「これは私だ」というピンを打つこと。
「空気」から「名指し」へ——新しい物語が始まる。`,
      ko: `단편｜〈두 개의 그림자〉

같은 교실에 A와 B, 두 개의 그림자가 있었다.
호명에서도 빠지고, 조 편성에서도 아무도 부르지 않고, 손을 들어도 보지 않는다 — 마치 공기.
칠판은 여러 번 지워지지만, 그들의 이름은 한 번도 남지 않았다.

A의 이야기:
“얌전하게, 폐 끼치지 말자. 성적으로 말하자. 언젠가 보게 될 거야.”
그래서 그는 더 조용해지고 더 바르게 앉았다.
한 달 뒤 그는 의심하기 시작한다. ‘나는 정말 중요하지 않은가?’
그는 틀리지 않았다 — 조용함, 예의, 절제는 다 옳다.
하지만 그의 삶은 음소거된 듯했고, 조명은 결코 스스로 그를 비추지 않았다.

B의 이야기는 다른 판본:
“아무도 보지 않는다면, 일단 세상에 소리를 내자.”
체조 시간에 일부러 반 박 늦거나 과장된 동작을 해 옆 친구들을 웃긴다.
반 경기 영상을 “진지한 척 해설”로 편집해 쉬는 시간에 방송 장비로 틀었다.
학년 주임은 찡그렸다. “장난치지 마.”
하지만 반은 그를 “해설가”라 부르기 시작했다.
이것도 틀리지 않았다 — 장난, 과잉, 꾸지람 — 모두 옳다.
그는 “공기”에서 “이름 불리는 사람”으로 변했다.

변수도 · 뼈
🦴 확인감(I exist for someone)
🦴 단지 “존재한다”가 아니라 “나의 존재가 보인다”는 것.
🦴 사랑이든 꾸짖음이든 좋다. 가장 두려운 것은 완전한 무시다.

변수도 · 증거
• A는 “누군가가 역할을 줄 때까지 기다려라”는 이야기에 갇혀 있다.
• B는 “나는 누구인가”를 앞에 두고, 별명·농담·호명될 이유 같은 큰 표식을 남겼다.
• 둘 다 옳다. 그러니 더 생기가 있고 더 즐거운 ‘옳음’ 속에서 살아라.

변수도 · 깨달음
보이는 것은 인간의 바닥 연료다.
사랑이나 욕을 구하는 게 아니라, 타인의 세계에 “이것이 나다”라는 핀을 꽂는 일.
“공기”에서 “이름 불림”으로 — 새로운 이야기가 시작된다.`
    }
  }]
};

const state = { 
  lang: (new URL(location.href)).searchParams.get('lang') || localStorage.getItem('vd_lang') || (navigator.language||'en').slice(0,2),
  step: 1,
  currentCard: null
};
function t(o){ return o[state.lang] || o.zh || ''; }

function showPage(id){
  document.querySelectorAll('.page').forEach(p=>p.style.display='none');
  document.getElementById(id).style.display='block';
}
function renderNav(){
  navHome.textContent    = t(UI.navHome);
  navStories.textContent = t(UI.navStories);
  navAbout.textContent   = t(UI.navAbout);
}
function renderHome(){
  heroTitle.textContent = t(UI.heroTitle);
  heroLead.textContent  = t(UI.heroLead);
  startLabel.textContent= t(UI.start);
}
function renderSelectUI(){
  selectTitle.textContent = t(UI.selectTitle);
  selBack.textContent     = t(UI.backHome);
  backToSelect.textContent= t(UI.backSelect);
}
function renderPlaceholders(){
  storiesTitle.textContent = t(UI.storiesTitle);
  storiesHint.textContent  = t(UI.storiesHint);
  aboutTitle.textContent   = t(UI.aboutTitle);
  aboutHint.textContent    = t(UI.aboutHint);
}
function renderFooter(){
  footerText.textContent = t(UI.footer);
}
function renderList(){
  cardsList.innerHTML='';
  DATA.cards.forEach(c=>{
    const el=document.createElement('div'); el.className='card';
    el.innerHTML=`<div class="muted">${t(c.sting)}</div><h3>${t(c.title)}</h3><div class="muted">${t(c.ask)}</div>`;
    el.addEventListener('click',()=>openDetail(c,true));
    cardsList.appendChild(el);
  });
}
function openDetail(c, doScroll){
  state.currentCard = c;
  const txt=(c.body[state.lang]&&c.body[state.lang].trim())?c.body[state.lang]:c.body.zh;
  let html=txt.replace(/\n\n/g,'</p><p>').replace(/\n/g,'<br>');
  html=html.replace(/变量道\s*·\s*道骨|Variable Dao\s*·\s*Bone|変数道・骨|변수도\s*·\s*뼈/g, '</p><div class="pill">'+t(UI.pillBone)+'</div><p>');
  html=html.replace(/变量道\s*·\s*道证|Variable Dao\s*·\s*Evidence|変数道・証|변수도\s*·\s*증거/g, '</p><div class="pill">'+t(UI.pillEvi)+'</div><p>');
  html=html.replace(/变量道\s*·\s*觉悟|Variable Dao\s*·\s*Insight|変数道・悟り|변수도\s*·\s*깨달음/g, '</p><div class="pill">'+t(UI.pillInsight)+'</div><p>');
  detailContent.innerHTML=`<h2>${t(c.title)}</h2><div class="muted">${t(c.sting)} · ${t(c.ask)}</div><div class="long"><p>${html}</p></div>`;
  detail.classList.add('active'); detail.setAttribute('aria-hidden','false');
  if(doScroll) detail.scrollIntoView({behavior:'smooth', block:'start'});
}

startBtn.addEventListener('click',()=>{
  state.step=2; showPage('select'); renderSelectUI(); renderList();
  selectTitle.scrollIntoView({behavior:'smooth'});
});
selBack.addEventListener('click',()=>{
  state.step=1; showPage('landing');
  detail.classList.remove('active');
  detail.setAttribute('aria-hidden','true');
});
backToSelect.addEventListener('click',()=>{
  detail.classList.remove('active');
  detail.setAttribute('aria-hidden','true');
  selectTitle.scrollIntoView({behavior:'smooth'});
});

navHome.addEventListener('click',()=>showPage('landing'));
navStories.addEventListener('click',()=>showPage('stories'));
navAbout.addEventListener('click',()=>showPage('about'));

const langSel=document.getElementById('langSelect');
if(!localStorage.getItem('vd_lang_selected')){ langSel.value=""; } else { langSel.value=state.lang; }
langSel.addEventListener('change',(e)=>{
  const v=e.target.value; if(!v) return;
  state.lang=v; localStorage.setItem('vd_lang',v); localStorage.setItem('vd_lang_selected','1');
  const ph=langSel.querySelector('option[data-placeholder]'); if(ph) ph.remove();
  renderNav(); renderHome(); renderPlaceholders(); renderFooter();
  if(state.step===2){ renderSelectUI(); renderList(); }
  if(detail.classList.contains('active') && state.currentCard){
    openDetail(state.currentCard,false);
  }
});

if(!['zh','en','ja','ko'].includes(state.lang)) state.lang='en';
renderNav(); renderHome(); renderPlaceholders(); renderFooter();
showPage('landing');
</script>
</body>
</html>
